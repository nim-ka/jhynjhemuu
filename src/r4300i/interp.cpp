#include "utils.hpp"
#include "r4300i.hpp"

R4300iInstrFunction R4300i::instrJumpTable[] = {
	instr_none,
	instr_add,
/*	instr_addi,
	instr_addiu,
	instr_addu,
	instr_and,
	instr_andi,
	instr_beq,
	instr_beql,
	instr_bgez,
	instr_bgezal,
	instr_bgezall,
	instr_bgezl,
	instr_bgtz,
	instr_bgtzl,
	instr_blez,
	instr_blezl,
	instr_bltz,
	instr_bltzal,
	instr_bltzall,
	instr_bltzl,
	instr_bne,
	instr_bnel,
	instr_break,
	instr_dadd,
	instr_daddi,
	instr_daddiu,
	instr_daddu,
	instr_ddiv,
	instr_ddivu,
	instr_div,
	instr_divu,
	instr_dmult,
	instr_dmultu,
	instr_dsll,
	instr_dsll32,
	instr_dsllv,
	instr_dsra,
	instr_dsra32,
	instr_dsrav,
	instr_dsrl,
	instr_dsrl32,
	instr_dsrlv,
	instr_dsub,
	instr_dsubu,
	instr_fabs,
	instr_fadd,
	instr_fbc1f,
	instr_fbc1fl,
	instr_fbc1t,
	instr_fbc1tl,
	instr_fcompare,
	instr_fceill,
	instr_fceilw,
	instr_fcfc1,
	instr_fctc1,
	instr_fcvtd,
	instr_fcvtl,
	instr_fcvts,
	instr_fcvtw,
	instr_fdiv,
	instr_fdmfc1,
	instr_fdmtc1,
	instr_ffloorl,
	instr_ffloorw,
	instr_fldc1,
	instr_flwc1,
	instr_fmfc1,
	instr_fmov,
	instr_fmtc1,
	instr_fmul,
	instr_fneg,
	instr_froundl,
	instr_froundw,
	instr_fsdc1,
	instr_fsqrt,
	instr_fsub,
	instr_fswc1,
	instr_ftruncl,
	instr_ftruncw,
	instr_j,
	instr_jal,
	instr_jalr,
	instr_jr,
	instr_lb,
	instr_lbu,
	instr_ld,
	instr_ldl,
	instr_ldr,
	instr_lh,
	instr_lhu,
	instr_ll,
	instr_lld,
	instr_lui,
	instr_lw,
	instr_lwl,
	instr_lwr,
	instr_lwu,
	instr_mfc0,
	instr_mfhi,
	instr_mflo,
	instr_mtc0,
	instr_mthi,
	instr_mtlo,
	instr_mult,
	instr_multu,
	instr_nor,
	instr_or,
	instr_ori,
	instr_sb,
	instr_sc,
	instr_scd,
	instr_sd,
	instr_sdl,
	instr_sdr,
	instr_sh,
	instr_sll,
	instr_sllv,
	instr_slt,
	instr_slti,
	instr_sltiu,
	instr_sltu,
	instr_sra,
	instr_srav,
	instr_srl,
	instr_srlv,
	instr_sub,
	instr_subu,
	instr_sw,
	instr_swl,
	instr_swr,
	instr_sync,
	instr_syscall,
	instr_teq,
	instr_teqi,
	instr_tge,
	instr_tgei,
	instr_tgeiu,
	instr_tgeu,
	instr_tlt,
	instr_tlti,
	instr_tltiu,
	instr_tltu,
	instr_tne,
	instr_tnei,
	instr_xor,
	instr_xori
*/
};

void instr_none(R4300iInstructionWrapper *instr, R4300iState *state, word *ram) {
	error("Tried to execute nil instruction");
}

// THIS IS NOT THE ACTUAL BEHAVIOR OF add, JUST A TEST
void instr_add(R4300iInstructionWrapper *instr, R4300iState *state, word *ram) {
	state->set_reg(instr->formats->r_format.dest,
		state->get_reg(instr->formats->r_format.source1) +
		state->get_reg(instr->formats->r_format.source2));
}
